(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"3HGL":function(e,t,n){e.exports={wrapper:"antd-pro-pages-data-conversion-uploader-wrapper",uploader:"antd-pro-pages-data-conversion-uploader-uploader",status:"antd-pro-pages-data-conversion-uploader-status",processing:"antd-pro-pages-data-conversion-uploader-processing",success:"antd-pro-pages-data-conversion-uploader-success",error:"antd-pro-pages-data-conversion-uploader-error",filename:"antd-pro-pages-data-conversion-uploader-filename"}},"5MN1":function(e,t,n){"use strict";var a=n("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("QOTc");var r=a(n("qoGT")),o=a(n("43Yg")),l=a(n("/tCh")),u=a(n("8aBX")),c=a(n("scpF")),d=a(n("O/V9")),i=g(n("xwgP")),f=n("8ur3"),s=n("HtvZ"),p=n("fJgZ"),v=a(n("3HGL"));function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function y(e){var t=h();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var O=function(e){(0,u.default)(n,e);var t=y(n);function n(){var e;return(0,o.default)(this,n),e=t.apply(this,arguments),e.state={file:void 0},e.handleChange=function(t){var n=(0,p.values)((0,p.get)(t.target,"files"))[0];e.setState({file:{name:n.name,size:n.size}},function(){e.handleUpload(n)}),t.target.value=""},e.handleUpload=function(t){e.props.dispatch({type:"conversion/onUpload",payload:t})},e}return(0,l.default)(n,[{key:"componentDidUpdate",value:function(e){(0,p.get)(e,"uploader.data")!==(0,p.get)(this.props,"uploader.data")&&this.props.dispatch({type:"conversion/getUploadedFiles"})}},{key:"renderStatus",value:function(){var e=this.props,t=e.uploader,n=e.loading;return n?i.default.createElement("span",{className:v.default.processing},i.default.createElement(s.LoadingOutlined,null)," \u4e0a\u4f20\u4e2d"):t&&t.success?i.default.createElement("span",{className:v.default.success},i.default.createElement(s.CheckOutlined,null)," \u4e0a\u4f20\u6210\u529f"):t&&!t.success?i.default.createElement("span",{className:v.default.error},i.default.createElement(s.WarningOutlined,null)," ",t.message):i.default.createElement("span",null,"\u7b49\u5f85\u4e0a\u4f20")}},{key:"render",value:function(){var e=this.props.multiple,t=this.state.file;return i.default.createElement("div",{className:v.default.wrapper},i.default.createElement("div",{className:v.default.uploader},i.default.createElement("input",{name:"uploader",type:"file",multiple:e,onChange:this.handleChange}),i.default.createElement(r.default,{type:"primary"},i.default.createElement(s.UploadOutlined,null)," \u4e0a\u4f20")),t&&i.default.createElement("div",{className:v.default.status},i.default.createElement("span",{className:v.default.filename},t.name),this.renderStatus()))}}]),n}(i.Component),E=(0,f.connect)(function(e){var t=e.conversion,n=e.loading;return{uploader:t.uploader,loading:n.effects["conversion/onUpload"]}})(O);t.default=E},JoAW:function(e,t,n){e.exports={conversion:"antd-pro-pages-data-conversion-data-conversion-conversion",info:"antd-pro-pages-data-conversion-data-conversion-info",time:"antd-pro-pages-data-conversion-data-conversion-time"}},OKqh:function(e,t,n){"use strict";var a=n("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("dQWT")),o=r.default;t.default=o},dQWT:function(e,t,n){"use strict";var a=n("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mK77"));n("LwZM");var o=a(n("wS00"));n("giqS");var l=a(n("ulej")),u=a(n("43Yg")),c=a(n("/tCh")),d=a(n("8aBX")),i=a(n("scpF")),f=a(n("O/V9")),s=h(n("xwgP")),p=n("8ur3"),v=a(n("5MN1")),m=a(n("wIO6")),g=a(n("JoAW"));function y(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function O(e){var t=E();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,i.default)(this,n)}}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var w=function(e){(0,d.default)(n,e);var t=O(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"conversion/getUploadedFiles"}),this.props.dispatch({type:"conversion/getConvertedFiles"})}},{key:"render",value:function(){var e=this.props,t=e.uploadedFiles,n=e.convertedFiles,a=e.uploadedFilesLoading,r=e.convertedFilesLoading;return s.default.createElement("div",{className:g.default.conversion},s.default.createElement(v.default,null),s.default.createElement(l.default,{gutter:8},s.default.createElement(o.default,{flex:"1 0 640px",style:{marginBottom:12}},s.default.createElement(m.default,{contents:t,convertible:!0,loading:a})),s.default.createElement(o.default,{flex:"1 0 640px"},s.default.createElement(m.default,{contents:n,loading:r}))))}}]),n}(s.Component),b=(0,p.connect)(function(e){var t=e.conversion,n=e.loading;return(0,r.default)({},t,{uploadedFilesLoading:n.effects["conversion/getUploadedFiles"],convertedFilesLoading:n.effects["conversion/getConvertedFiles"]})})(w);t.default=b},wIO6:function(e,t,n){"use strict";var a=n("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("w0cM");var r=a(n("AWM+"));n("+3S9");var o=a(n("/kHm"));n("zZoI");var l=a(n("EfKH"));n("QOTc");var u=a(n("qoGT"));n("0g4g");var c=a(n("QGcS")),d=a(n("43Yg")),i=a(n("/tCh")),f=a(n("8aBX")),s=a(n("scpF")),p=a(n("O/V9")),v=O(n("xwgP")),m=n("8ur3"),g=n("HtvZ"),y=a(n("JoAW"));function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(a,o,l):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}function E(e){var t=w();return function(){var n,a=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var b=["axi2csv","csv2axi","excel2axi","excel2csv"],k=function(e){(0,f.default)(n,e);var t=E(n);function n(){var e;return(0,d.default)(this,n),e=t.apply(this,arguments),e.handleRemove=function(t){var n=e.props,a=n.dispatch,r=n.convertible;a({type:"conversion/".concat(r?"onRemoveUploadedFile":"onRemoveConvertedFile"),payload:t})},e.onLoadMore=function(){console.log("onLoadMore: ")},e.onConvert=function(t,n){var a=e.props.dispatch;console.log("----key: ",t),a({type:"conversion/onConvert",payload:{type:t,id:n}})},e.renderMenu=function(t){return v.default.createElement(c.default,{onClick:function(n){var a=n.key;return e.onConvert(a,t)}},b.map(function(e){return v.default.createElement(c.default.Item,{key:e},e)}))},e.renderActions=function(t){var n=e.props,a=n.convertible,r=n.converting;return a?[v.default.createElement(u.default,{key:"download",href:"".concat(location.pathname,"/axiTransfer/uploadFile/download/").concat(t.id),size:"small",download:"download"},"\u4e0b\u8f7d"),v.default.createElement(u.default,{key:"remove",danger:!0,size:"small",disabled:null===r||void 0===r?void 0:r.includes(t.id),onClick:function(){return e.handleRemove(t)}},"\u5220\u9664"),v.default.createElement(l.default,{key:"convert",disabled:null===r||void 0===r?void 0:r.includes(t.id),overlay:e.renderMenu(t.id),placement:"bottomRight",trigger:["click","hover"]},v.default.createElement(u.default,{type:"primary",size:"small"},"\u8f6c\u5316 ",v.default.createElement(g.DownOutlined,null)))]:[v.default.createElement(u.default,{key:"download",href:"".concat(location.pathname,"/axiTransfer/download/").concat(t.id),size:"small",download:"download"},"\u4e0b\u8f7d"),v.default.createElement(u.default,{key:"remove",danger:!0,size:"small",onClick:function(){return e.handleRemove(t)}},"\u5220\u9664")]},e.renderTag=function(t){var n=e.props,a=n.convertible,r=n.converting;return a?t.converted?v.default.createElement(o.default,{color:"success",icon:v.default.createElement(g.CheckCircleOutlined,null)},"\u5df2\u8f6c\u5316"):(null===r||void 0===r?void 0:r.includes(t.id))?v.default.createElement(o.default,{color:"processing",icon:v.default.createElement(g.LoadingOutlined,null)},"\u8f6c\u5316\u4e2d"):v.default.createElement(o.default,{color:"default",icon:v.default.createElement(g.MinusCircleOutlined,null)},"\u672a\u8f6c\u5316"):null},e}return(0,i.default)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.removeUploadedLoading,a=t.removeConvertedLoading,r=t.convertLoading,o=t.convertible;o&&(e.removeUploadedLoading&&!n||e.convertLoading&&!r)&&this.props.dispatch({type:"conversion/getUploadedFiles"}),!o&&(e.removeConvertedLoading&&!a||e.convertLoading&&!r)&&this.props.dispatch({type:"conversion/getConvertedFiles"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.contents,a=t.loading,o=t.convertible,l=this.renderActions;return v.default.createElement(r.default,{bordered:!0,header:o?v.default.createElement("div",null,"\u4e0a\u4f20\u7684\u6587\u4ef6"):v.default.createElement("div",null,"\u8f6c\u5316\u7684\u6587\u4ef6"),loading:a,dataSource:n,renderItem:function(t){return v.default.createElement(r.default.Item,{actions:l(t)},v.default.createElement("div",{className:y.default.info},v.default.createElement("span",null,e.renderTag(t),t.name),v.default.createElement("span",{className:y.default.time},t.time)))},rowKey:function(e){return e.Key}})}}]),n}(v.Component),C=(0,m.connect)(function(e){var t=e.conversion,n=e.loading;return{converting:t.converting,loading:n.effects["conversion/onFetchContents"],convertLoading:n.effects["conversion/onConvert"],removeConvertedLoading:n.effects["conversion/onRemoveConvertedFile"],removeUploadedLoading:n.effects["conversion/onRemoveUploadedFile"]}})(k);t.default=C}}]);